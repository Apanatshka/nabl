module nabl2/shared/constraints/Namebinding

imports

  nabl2/shared/common/Identifiers
  nabl2/shared/common/Messages
  nabl2/shared/common/Resolution
  nabl2/shared/common/Vars

context-free syntax

  Scope                 = CVar
  Comparable            = Scope

  Occurrence            = CVar
  Comparable            = Occurrence

  Set                   = CVar
  Set                   = Names

context-free syntax

  PrimitiveConstraint.CGDecl       = [[Occurrence] <- [Scope]]
  PrimitiveConstraint.CGRef        = [[Occurrence] -> [Scope]]

  PrimitiveConstraint.CResolve     = [[Occurrence] |-> [Occurrence] [Message]]

syntax

  PrimitiveConstraint-CF.CGDirectEdge = Scope-CF LAYOUT?-CF "-" ELabel-CF "->" LAYOUT?-CF Scope-CF
  PrimitiveConstraint-CF.CGAssoc      = Occurrence-CF LAYOUT?-CF "=" NLabel-CF "=>" LAYOUT?-CF Scope-CF
  PrimitiveConstraint-CF.CGNamedEdge  = Occurrence-CF LAYOUT?-CF "<=" NLabel-CF "=" LAYOUT?-CF Scope-CF

  PrimitiveConstraint-CF.CAssoc       = Occurrence-CF LAYOUT?-CF "?=" NLabel-CF "=>" LAYOUT?-CF Scope-CF LAYOUT?-CF Message-CF


context-free syntax

  ELabel.P = "-"
  ELabel   = PathLabel

  NLabel.I = "="
  NLabel   = PathLabel

syntax

  Names-CF.Declarations   = "D(" Scope-CF ")" NamespacePattern-CF
  Names-CF.References     = "R(" Scope-CF ")" NamespacePattern-CF
  Names-CF.Visibles       = "V(" Scope-CF ")" NamespacePattern-CF
  Names-CF.Reachables     = "W(" Scope-CF ")" NamespacePattern-CF

  NamespacePattern-CF.Default   =
  NamespacePattern-CF.All       = "/*"
  NamespacePattern-CF.Namespace = "/" NamespaceId-LEX

context-free syntax

  MessagePosition.NAMES = <@ NAMES>

lexical syntax

  Keyword = "in" | "unique" | "NAMES"

